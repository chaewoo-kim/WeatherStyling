<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>날씨 API JSON 요청</title>
</head>
<body>
<h1>날씨 API 요청</h1>
<form id="weatherForm">
    <label for="year">Year:</label>
    <input type="number" id="year" name="year" value="2025" required><br><br>

    <label for="month">Month:</label>
    <input type="number" id="month" name="month" value="4" required><br><br>

    <label for="day">Day:</label>
    <input type="number" id="day" name="day" value="7" required><br><br>

    <label for="hour">Hour:</label>
    <input type="number" id="hour" name="hour" value="14" required><br><br>

    <label for="minute">Minute:</label>
    <input type="number" id="minute" name="minute" value="30" required><br><br>

    <label for="placeNumber">Place Number:</label>
    <input type="text" id="placeNumber" name="placeNumber" value="1100000000" required><br><br>

    <label for="gender">Gender:</label>
    <select id="gender" name="gender">
        <option value="male">남자</option>
        <option value="female">여자</option>
    </select><br><br>

    <button type="submit">날씨 요청</button>
</form>

<pre id="responseBox"></pre>

<script>
    document.getElementById('weatherForm').addEventListener('submit', function (e) {
        e.preventDefault();

        const requestData = {
            year: parseInt(document.getElementById('year').value),
            month: parseInt(document.getElementById('month').value),
            day: parseInt(document.getElementById('day').value),
            hour: parseInt(document.getElementById('hour').value),
            minute: parseInt(document.getElementById('minute').value),
            placeNumber: document.getElementById('placeNumber').value,
            gender: document.getElementById('gender').value
        };

        fetch('http://localhost:8080/api/getApiInfo', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestData)
        })
            .then(response => response.text())
            .then(data => {
                document.getElementById('responseBox').textContent = data;
            })
            .catch(error => {
                document.getElementById('responseBox').textContent = '❌ 요청 실패: ' + error;
            });
    });
</script>
</body>
</html>
